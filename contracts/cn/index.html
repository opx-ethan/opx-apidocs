
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Contracts API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="../../stylesheets/screen-9c19b03a.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="contracts contracts_cn contracts_cn_index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="../../images/logo-1e815a84.png" class="logo" alt="" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#46ae2946a2" class="toc-h1 toc-link" data-title="基础介绍">基础介绍</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1f9ac54b15" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
                  <li>
                    <a href="#d91b75440f" class="toc-h2 toc-link" data-title="字符编码">字符编码</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#8ba46c43fe" class="toc-h1 toc-link" data-title="签名">签名</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#26670dda42" class="toc-h2 toc-link" data-title="说明">说明</a>
                  </li>
                  <li>
                    <a href="#sdk" class="toc-h2 toc-link" data-title="SDK">SDK</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#72eaf18632" class="toc-h1 toc-link" data-title="公开市场">公开市场</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#9161c1f667" class="toc-h2 toc-link" data-title="获取交易信息">获取交易信息</a>
                  </li>
                  <li>
                    <a href="#4b9a55b0b9" class="toc-h2 toc-link" data-title="获取时间">获取时间</a>
                  </li>
                  <li>
                    <a href="#1cc2931276" class="toc-h2 toc-link" data-title="获取汇率">获取汇率</a>
                  </li>
                  <li>
                    <a href="#03372bcd75" class="toc-h2 toc-link" data-title="获取系统错误代码">获取系统错误代码</a>
                  </li>
                  <li>
                    <a href="#b57c398896" class="toc-h2 toc-link" data-title="返回错误响应">返回错误响应</a>
                  </li>
                  <li>
                    <a href="#24" class="toc-h2 toc-link" data-title="获取24小时统计价格">获取24小时统计价格</a>
                  </li>
                  <li>
                    <a href="#28a0acbc2b" class="toc-h2 toc-link" data-title="获取所有统计价格">获取所有统计价格</a>
                  </li>
                  <li>
                    <a href="#51df0d5c04" class="toc-h2 toc-link" data-title="获取所有币币交易对统计价格">获取所有币币交易对统计价格</a>
                  </li>
                  <li>
                    <a href="#orderbook" class="toc-h2 toc-link" data-title="获取OrderBook">获取OrderBook</a>
                  </li>
                  <li>
                    <a href="#rest-tick" class="toc-h2 toc-link" data-title="获取REST Tick数据">获取REST Tick数据</a>
                  </li>
                  <li>
                    <a href="#bar" class="toc-h2 toc-link" data-title="获取Bar数据">获取Bar数据</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#dfe799947f" class="toc-h1 toc-link" data-title="交易">交易</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#eec7afdfe8" class="toc-h2 toc-link" data-title="查询账户余额">查询账户余额</a>
                  </li>
                  <li>
                    <a href="#4d72cb1d3b" class="toc-h2 toc-link" data-title="查询用户费率">查询用户费率</a>
                  </li>
                  <li>
                    <a href="#8be954be0d" class="toc-h2 toc-link" data-title="创建新订单">创建新订单</a>
                  </li>
                  <li>
                    <a href="#14f3f3c64c" class="toc-h2 toc-link" data-title="查询活动订单">查询活动订单</a>
                  </li>
                  <li>
                    <a href="#id" class="toc-h2 toc-link" data-title="查询活动订单（通过订单ID）">查询活动订单（通过订单ID）</a>
                  </li>
                  <li>
                    <a href="#id-2" class="toc-h2 toc-link" data-title="查询活动订单（通过自定义订单ID）">查询活动订单（通过自定义订单ID）</a>
                  </li>
                  <li>
                    <a href="#id-3" class="toc-h2 toc-link" data-title="查询订单（通过订单ID）">查询订单（通过订单ID）</a>
                  </li>
                  <li>
                    <a href="#id-4" class="toc-h2 toc-link" data-title="查询订单（通过自定义订单ID）">查询订单（通过自定义订单ID）</a>
                  </li>
                  <li>
                    <a href="#515c1e61e5" class="toc-h2 toc-link" data-title="查询历史订单">查询历史订单</a>
                  </li>
                  <li>
                    <a href="#3eedd32d80" class="toc-h2 toc-link" data-title="取消订单">取消订单</a>
                  </li>
                  <li>
                    <a href="#id-5" class="toc-h2 toc-link" data-title="取消订单（通过自定义订单ID）">取消订单（通过自定义订单ID）</a>
                  </li>
                  <li>
                    <a href="#b63b779508" class="toc-h2 toc-link" data-title="取消所有订单">取消所有订单</a>
                  </li>
                  <li>
                    <a href="#e13713753c" class="toc-h2 toc-link" data-title="查询订单成交详情">查询订单成交详情</a>
                  </li>
                  <li>
                    <a href="#9e5d696eb0" class="toc-h2 toc-link" data-title="查询当前活动仓位列表">查询当前活动仓位列表</a>
                  </li>
                  <li>
                    <a href="#1f3c3e9aed" class="toc-h2 toc-link" data-title="查询仓位清算列表">查询仓位清算列表</a>
                  </li>
                  <li>
                    <a href="#f14cee5a67" class="toc-h2 toc-link" data-title="设置仓位杠杠">设置仓位杠杠</a>
                  </li>
                  <li>
                    <a href="#9abbc07c5f" class="toc-h2 toc-link" data-title="设置仓位保证金">设置仓位保证金</a>
                  </li>
                  <li>
                    <a href="#21dd07728a" class="toc-h2 toc-link" data-title="设置仓位风险等级">设置仓位风险等级</a>
                  </li>
                  <li>
                    <a href="#4b3692eb51" class="toc-h2 toc-link" data-title="合约账户划转到资产中心">合约账户划转到资产中心</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-api" class="toc-h1 toc-link" data-title="WebSocket API">WebSocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#b98a1892b6" class="toc-h2 toc-link" data-title="连接信息">连接信息</a>
                  </li>
                  <li>
                    <a href="#4ade1cf0af" class="toc-h2 toc-link" data-title="用户认证">用户认证</a>
                  </li>
                  <li>
                    <a href="#5319af762d" class="toc-h2 toc-link" data-title="订阅">订阅</a>
                  </li>
                  <li>
                    <a href="#b109d834a1" class="toc-h2 toc-link" data-title="取消订阅">取消订阅</a>
                  </li>
                  <li>
                    <a href="#f4a84d8f74" class="toc-h2 toc-link" data-title="接收消息">接收消息</a>
                  </li>
                  <li>
                    <a href="#94a9a32795" class="toc-h2 toc-link" data-title="心跳">心跳</a>
                  </li>
                  <li>
                    <a href="#ticker" class="toc-h2 toc-link" data-title="TICKER消息">TICKER消息</a>
                  </li>
                  <li>
                    <a href="#all_ticker" class="toc-h2 toc-link" data-title="ALL_TICKER消息">ALL_TICKER消息</a>
                  </li>
                  <li>
                    <a href="#websocket-bar" class="toc-h2 toc-link" data-title="Websocket Bar信息">Websocket Bar信息</a>
                  </li>
                  <li>
                    <a href="#websocket-bbo" class="toc-h2 toc-link" data-title="Websocket BBO消息">Websocket BBO消息</a>
                  </li>
                  <li>
                    <a href="#websocket-orderbook" class="toc-h2 toc-link" data-title="Websocket OrderBook消息">Websocket OrderBook消息</a>
                  </li>
                  <li>
                    <a href="#websocket-tick" class="toc-h2 toc-link" data-title="Websocket Tick消息">Websocket Tick消息</a>
                  </li>
                  <li>
                    <a href="#f4310d52cf" class="toc-h2 toc-link" data-title="订单成交消息">订单成交消息</a>
                  </li>
                  <li>
                    <a href="#cee43df56e" class="toc-h2 toc-link" data-title="订单状态变更消息">订单状态变更消息</a>
                  </li>
                  <li>
                    <a href="#fd75112fba" class="toc-h2 toc-link" data-title="现货账户余额变更消息">现货账户余额变更消息</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#20ff2c8e16" class="toc-h1 toc-link" data-title="资产中心">资产中心</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#4d03e44027" class="toc-h2 toc-link" data-title="获取资产中心账户余额">获取资产中心账户余额</a>
                  </li>
                  <li>
                    <a href="#a103e79385" class="toc-h2 toc-link" data-title="资产中心划转到币币账户">资产中心划转到币币账户</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>API Key Guide</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='46ae2946a2'>基础介绍</h1>
<p>API使用HTTPS。</p>

<p>针对终端用户的API - Ip是<code>http://dev.server.opx.pro</code>。</p>

<p>API调用方式：</p>

<ul>
<li>请求方式：总是GET或POST；</li>
<li>请求路径：总是以<code>/v2/</code>开头，例如<code>/v2/market/meta</code>；</li>
</ul>
<h2 id='1f9ac54b15'>请求参数</h2>
<ul>
<li>GET请求以URL参数传入，例如：<a href="http://dev.server.opx.pro/v2/market/bars/BTC_USDT/MIN?start=1594697861590&amp;end=1594797861590">http://dev.server.opx.pro/v2/market/bars/BTC_USDT/MIN?start=1594697861590&amp;end=1594797861590</a></li>
<li>POST请求以JSON作为HTTP BODY传入，且必须设置Content-Type: application/json</li>
</ul>
<h2 id='70bdef7e25'>返回参数</h2>
<p>如果API调用成功，返回200，内容总是JSON，且具有<code>Content-Type: application/json</code>。</p>

<p>如果API调用失败，返回400，内容总是JSON，且具有<code>Content-Type: application/json</code>，格式为固定的Error，请参考<a href="http://dev.server.opx.pro/v2/market/error">http://dev.server.opx.pro/v2/market/error</a>。</p>

<p>如果API超过了业务频率限制，返回429，无内容，可根据返回头<code>X-RateLimit-Biz-Limit</code>、&quot;<code>X-RateLimit-Biz-Burst</code>和<code>X-RateLimit-Biz-Remaining</code>获取限频次数。</p>
<h2 id='d91b75440f'>字符编码</h2>
<p>全部使用UTF-8且只能使用UTF-8。</p>

<p>示例：一个完整的GET请求:</p>
<div class="highlight"><pre class="highlight plaintext"><code>http://dev.server.opx.pro/v2/market/meta
</code></pre></div><h1 id='8ba46c43fe'>签名</h1>
<p>API请求需要签名，以确认用户身份，并防止重放攻击。</p>

<p>签名算法：</p>

<p>针对一个HTTP的API请求，有如下信息：</p>

<ul>
<li>方法名称：<code>GET</code>或<code>POST</code></li>
<li>请求域名：例如<code>defiapi.876ex.com</code></li>
<li>请求路径：以/开头的URI，例如：<code>/v2/trade/orders</code></li>
<li>请求参数：以key1=value2&amp;key2=value2形式的参数，例如：<code>id=123456&amp;sort=DESC&amp;from=2017-09-10</code></li>
<li>请求Header：例如，<code>Accept: */*</code></li>
<li>请求Body：二进制表示的JSON字符串，仅针对POST有效</li>
</ul>

<p>然后，我们需要构造一个字符串，按如下格式填入：</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">GET\n
defiapi.876ex.com\n
/v2/trade/orders\n
from=2017-09-10&amp;id=123456&amp;sort=DESC\n
API-KEY: xyz123456\n
API-SIGNATURE-METHOD: HmacSHA256\n
API-SIGNATURE-VERSION: 1\n
API-TIMESTAMP: 12300000000\n
API-UNIQUE-ID: uni-123-abc-xyz\n
&lt;json body data&gt;
</span></code></pre></div>
<p>注意：每行以换行符<code>\n</code>结束。最后添加的Body结尾不要添加<code>\n</code>。</p>

<p>第一行是方法名称，全大写的<code>GET</code>或<code>POST</code>；</p>

<p>第二行是请求域名，全小写，例如：<code>defiapi.876ex.com</code>；</p>

<p>第三行是请求路径，必须以<code>/</code>开头，严格区分大小写，最后不要写<code>?</code>；</p>

<p>第四行是请求参数，严格区分大小写，并按照字母顺序排序，即排序后的字符串：<code>from=2017-09-10</code>，<code>id=123456</code>，<code>sort=DESC</code>，再用<code>&amp;</code>连接起来。如果没有请求参数，第四行是空行，注意空行也需要以<code>\n</code>结束；</p>

<p>紧接着把以<code>API-</code>开头的Header排序后以<code>HEADER: Value</code>的格式每行一个，Header名称全大写，冒号后面有一个空格，Value严格区分大小写，每个Header一行，以<code>\n</code>结束；</p>

<p>最后，如果是<code>POST</code>请求，且包含Body，把Body以JSON字符串形式添加到末尾，注意没有<code>\n</code>。如果是GET请求，或者POST请求没有Body，就添加一个空字符串<code>&#39;&#39;</code>。</p>

<p>以上字符串按UTF-8编码，得到一个二进制byte数组，然后使用API Secret计算Signature：</p></p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">signature</span> <span class="o">=</span> <span class="n">HmacSHA256</span><span class="p">(</span><span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"UTF-8"</span><span class="p">),</span> <span class="s">"my-api-secret"</span><span class="p">)</span>
</code></pre></div>
<p>将所得签名以十六进制小写字符串形式添加到Header：</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">API-Signature: a1b2c3ff001234500900dd01ff
</span></code></pre></div><h3 id='26670dda42'>说明</h3>
<p>参数使用原始字符串计算签名，例如<code>a=1/5</code>，不要使用<code>a=1%2F5</code>；</p>

<p>Header在计算签名时使用全大写，发送时大小写均可；</p>

<p>只有以API-开头的Header才被列入并计算签名（API-Signature除外，因为最后才能计算出API-Signature并附加到请求）；</p>

<p>API-Signature-Method必须为<code>HmacSHA256</code>；</p>

<p>API-Signature-Version必须为<code>1</code>；</p>

<p>API-Timestamp为当前时间戳，单位为毫秒整数，不支持小数，误差不得超过1分钟；</p>

<p>API-Unique-ID为可选，如果提供，则客户端需要提供一个唯一字符串标识，参考<a href="unique-id">API Unique Id</a>；</p>

<p>带Body的请求，需要先序列化为JSON字符串，然后把Body列入计算签名。不要对一个对象使用两次序列化，因为某些语言的实现可能导致两次序列化的JSON不一样，例如，<code>{&quot;a&quot;:true, &quot;b&quot;:1}</code>和<code>{&quot;b&quot;:1, &quot;a&quot;:true}</code>，两者JSON内容一致但字符串不同，将导致验证签名失败。</p>
<h3 id='sdk'>SDK</h3>
<p>我们提供如下的SDK封装了签名算法样例，帮助开发者快速调用API：</p>

<ul>
<li>Java SDK <a href="https://github.com/876ex-pub/signature-demo/blob/master/ApiClient.java">github</a></li>
<li>Python SDK <a href="https://github.com/876ex-pub/signature-demo/blob/master/876ex.py">github</a></li>
<li>JavaScript/Node SDK <a href="https://github.com/876ex-pub/signature-demo/blob/master/876ex.js">github</a></li>
</ul>
<h1 id='72eaf18632'>公开市场</h1>
<p>公开市场API是指无需登录，即可直接访问的API。</p>
<h2 id='9161c1f667'>获取交易信息</h2>
<p>API描述：获取交易所当前所有交易。</p>

<p>API路径：GET <a href="http://13.112.107.117/v2/market/meta">/v2/market/meta</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"spotsSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100105</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMaximumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"supportMarginTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"alwaysChargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayOrder"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"derivative"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencedIndexIdMap"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101105</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMaximumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"supportMarginTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"alwaysChargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayOrder"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"derivative"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencedIndexIdMap"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"contractsCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"contractsSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"marginSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100105</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMaximumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"supportMarginTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"alwaysChargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayOrder"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"derivative"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencedIndexIdMap"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101105</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMaximumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"supportMarginTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"alwaysChargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayOrder"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"derivative"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencedIndexIdMap"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"spotsCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"riskLimits"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"currencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"derivative"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"iconUrl"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depositOpenTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawOpenTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayOrder"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"derivative"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"iconUrl"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depositOpenTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawOpenTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayOrder"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">105</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"derivative"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"iconUrl"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depositOpenTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawOpenTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayOrder"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='4b9a55b0b9'>获取时间</h2>
<p>API描述：获取服务器当前时间，以毫秒为单位。</p>

<p>API路径：GET <a href="http://13.112.107.117/v2/market/timestamp">/v2/market/timestamp</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1691203331433</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='1cc2931276'>获取汇率</h2>
<p>API描述：获取当前市场汇率。</p>

<p>API路径：GET <a href="http://13.112.107.117/v2/market/fex">/v2/market/fex</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CAD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CNY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"HKD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"JPY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"KRW"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"RUB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"TWD"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"exchanges"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD_GBP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.77924</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_CAD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.31809</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_JPY"</span><span class="p">:</span><span class="w"> </span><span class="mf">142.258</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_HKD"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.7977</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_TWD"</span><span class="p">:</span><span class="w"> </span><span class="mf">31.474</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9092</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_KRW"</span><span class="p">:</span><span class="w"> </span><span class="mf">1277.9</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_SGD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3294</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_AUD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.48881</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_CNY"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.1435</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='03372bcd75'>获取系统错误代码</h2>
<p>API描述：获取系统定义的全部错误代码。</p>

<p>API路径：GET <a href="http://13.112.107.117/v2/market/errorCodes">/v2/market/errorCodes</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ACCOUNT_INVALID"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account error: Account {{account}} invalid"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"子账户 {{account}} 不合法"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ACCOUNT_NO_ENOUGH_AVAILABLE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account error: {{currency}} has no enough available"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{currency}} 账户缺少足够的余额"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ACCOUNT_NO_ENOUGH_BALANCE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account error: no enough balance"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"余额不足"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">.......</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='b57c398896'>返回错误响应</h2>
<p>API描述：返回一个错误响应，以便调试客户端错误处理代码。</p>

<p>API路径：GET <a href="http://13.112.107.117/v2/market/error">/v2/market/error</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEST_API_ERROR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello, this is a test api message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='24'>获取24小时统计价格</h2>
<p>API描述：获取某个交易对的最近24小时统计价格.</p>

<p>API路径：GET /v2/market/ticker/:symbol_name</p>

<p>API示例：GET <a href="http://13.112.107.117/v2/market/ticker/BTC_USDT">/v2/market/ticker/BTC_USDT</a></p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol_name</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>交易对名称,例如<code>BTC_USDT</code></td>
</tr>
<tr>
<td style="text-align: left">*<em>limit      *</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>非必填</strong><br> 默认200</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1698237360000</span><span class="p">,</span><span class="w">
      </span><span class="mf">34664.61</span><span class="p">,</span><span class="w">
      </span><span class="mf">34910.03</span><span class="p">,</span><span class="w">
      </span><span class="mf">33253.31</span><span class="p">,</span><span class="w">
      </span><span class="mf">34102.91</span><span class="p">,</span><span class="w">
      </span><span class="mf">24368.79047</span><span class="p">,</span><span class="w">
      </span><span class="mf">8.365057205026E8</span><span class="p">,</span><span class="w">
      </span><span class="mf">-0.016203845939706</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKER"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">94102531</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698237392509</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>说明：</p>

<p>数据格式：</p>

<p><code>[timestamp, open, high, low, close, volume, amount, change]</code></p>

<p><code>[时间戳，开盘价，最高价，最低价，收盘价，成交量, 成交额，涨跌幅]</code></p>
<h2 id='28a0acbc2b'>获取所有统计价格</h2>
<p>API描述：获取所有交易对的最近24小时统计价格.</p>

<p>API路径：GET /v2/market/all-ticker</p>

<p>API示例：GET <a href="http://13.112.107.117/v2/market/all-ticker">/v2/market/all-ticker</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1698237180000</span><span class="p">,</span><span class="w">
          </span><span class="mf">34616.9</span><span class="p">,</span><span class="w">
          </span><span class="mf">34910.03</span><span class="p">,</span><span class="w">
          </span><span class="mf">33253.31</span><span class="p">,</span><span class="w">
          </span><span class="mf">34204.88</span><span class="p">,</span><span class="w">
          </span><span class="mf">24699.97564</span><span class="p">,</span><span class="w">
          </span><span class="mf">847974381.44003</span><span class="p">,</span><span class="w">
          </span><span class="mf">-0.011902278944677</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">94100950</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698237188172</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1696737180000</span><span class="p">,</span><span class="w">
          </span><span class="mf">1637.2</span><span class="p">,</span><span class="w">
          </span><span class="mf">1639.22</span><span class="p">,</span><span class="w">
          </span><span class="mf">1637.1</span><span class="p">,</span><span class="w">
          </span><span class="mf">1639.22</span><span class="p">,</span><span class="w">
          </span><span class="mf">426.18</span><span class="p">,</span><span class="w">
          </span><span class="mf">697973.039</span><span class="p">,</span><span class="w">
          </span><span class="mf">0.0012338138284877</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">961</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1696737211715</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>数据格式：

`[timestamp, open, high, low, close, volume, amount, change]`

`[时间戳，开盘价，最高价，最低价，收盘价，成交量, 成交额，涨跌幅]`
</code></pre></div><h2 id='51df0d5c04'>获取所有币币交易对统计价格</h2>
<p>API描述：获取所有币币交易对的最近24小时统计价格。</p>

<p>API路径：GET /v2/market/spots/all-ticker</p>

<p>API示例：GET <a href="http://13.112.107.117/v2/market/spots/all-ticker">/v2/market/spots/all-ticker</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1698237180000</span><span class="p">,</span><span class="w">
          </span><span class="mf">34616.9</span><span class="p">,</span><span class="w">
          </span><span class="mf">34910.03</span><span class="p">,</span><span class="w">
          </span><span class="mf">33253.31</span><span class="p">,</span><span class="w">
          </span><span class="mf">34204.88</span><span class="p">,</span><span class="w">
          </span><span class="mf">24699.97564</span><span class="p">,</span><span class="w">
          </span><span class="mf">847974381.44003</span><span class="p">,</span><span class="w">
          </span><span class="mf">-0.011902278944677</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">94100950</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698237188172</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1696737180000</span><span class="p">,</span><span class="w">
          </span><span class="mf">1637.2</span><span class="p">,</span><span class="w">
          </span><span class="mf">1639.22</span><span class="p">,</span><span class="w">
          </span><span class="mf">1637.1</span><span class="p">,</span><span class="w">
          </span><span class="mf">1639.22</span><span class="p">,</span><span class="w">
          </span><span class="mf">426.18</span><span class="p">,</span><span class="w">
          </span><span class="mf">697973.039</span><span class="p">,</span><span class="w">
          </span><span class="mf">0.0012338138284877</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">961</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1696737211715</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>数据格式：

`[timestamp, open, high, low, close, volume, amount, change]`

`[时间戳，开盘价，最高价，最低价，收盘价，成交量, 成交额，涨跌幅]`
</code></pre></div><h2 id='orderbook'>获取OrderBook</h2>
<p>API描述：获取某个交易对的最近OrderBook。</p>

<p>API路径：GET /v2/market/spots/orderbook/:symbol_name</p>

<p>API示例：GET <a href="http://13.112.107.117/v2/market/spots/orderbook/BTC_USDT">/v2/market/spots/orderbook/BTC_USDT</a></p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol_name</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>交易对名称,例如<code>BTC_USDT</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>depth</strong></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>非必填</strong><br> 默认25档 最大支持150档</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100105</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">25777.52</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mf">25777.60</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">price</span><span class="w">
        </span><span class="mf">1.86</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">amount</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mf">25780.94</span><span class="p">,</span><span class="w">
        </span><span class="mf">1.61</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"buyOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mf">25777.46</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.47</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mf">25777.38</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.97</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">945599</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1693624727179</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='rest-tick'>获取REST Tick数据</h2>
<p>API描述：获取某个交易对的最近tick信息。</p>

<p>API路径：GET /v2/market/ticks/:symbol_name</p>

<p>API示例：GET <a href="http://13.112.107.117/v2/market/ticks/BTC_USDT?limit=10">/v2/market/ticks/BTC_USDT</a></p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol_name</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>交易对名称,例如<code>BTC_USDT</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td><strong>int</strong></td>
<td style="text-align: left"><strong>选填</strong><br>获取tick数量, 1-500，默认200</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">390</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878910379</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.72</span><span class="p">,</span><span class="w">
            </span><span class="mf">2.0</span><span class="p">,</span><span class="w">
            </span><span class="mf">58849.44</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878910379</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.71</span><span class="p">,</span><span class="w">
            </span><span class="mf">3.0</span><span class="p">,</span><span class="w">
            </span><span class="mf">88274.13</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878910379</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.71</span><span class="p">,</span><span class="w">
            </span><span class="mf">3.0</span><span class="p">,</span><span class="w">
            </span><span class="mf">88274.13</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878910379</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
            </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">389</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878901245</span><span class="p">,</span><span class="w">
            </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="mf">29434.1</span><span class="p">,</span><span class="w">
            </span><span class="mf">0.9</span><span class="p">,</span><span class="w">
            </span><span class="mf">26490.69</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">388</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878891166</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.74</span><span class="p">,</span><span class="w">
            </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.74</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">387</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878839689</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.75</span><span class="p">,</span><span class="w">
            </span><span class="mf">0.9</span><span class="p">,</span><span class="w">
            </span><span class="mf">26482.275</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878839689</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.75</span><span class="p">,</span><span class="w">
            </span><span class="mf">0.9</span><span class="p">,</span><span class="w">
            </span><span class="mf">26482.275</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878839689</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.75</span><span class="p">,</span><span class="w">
            </span><span class="mf">1.8</span><span class="p">,</span><span class="w">
            </span><span class="mf">52964.55</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">384</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878454992</span><span class="p">,</span><span class="w">
            </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="mf">29434.1</span><span class="p">,</span><span class="w">
            </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
            </span><span class="mf">2943.41</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">383</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878434470</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.75</span><span class="p">,</span><span class="w">
            </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
            </span><span class="mf">2942.475</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">382</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690878379864</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.76</span><span class="p">,</span><span class="w">
            </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.76</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">381</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690877504746</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.77</span><span class="p">,</span><span class="w">
            </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.77</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">380</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690877213439</span><span class="p">,</span><span class="w">
            </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.88</span><span class="p">,</span><span class="w">
            </span><span class="mf">0.7</span><span class="p">,</span><span class="w">
            </span><span class="mf">20597.416</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">379</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="w">
            </span><span class="mi">1690877180900</span><span class="p">,</span><span class="w">
            </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="mf">29424.87</span><span class="p">,</span><span class="w">
            </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
            </span><span class="mf">2942.487</span><span class="p">,</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<p>tick数据格式：<code>[timestamp, dir, price, volume, amount, flag]</code></p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>timestamp</strong></td>
<td style="text-align: left">时间戳，单位毫秒</td>
</tr>
<tr>
<td style="text-align: left"><strong>dir</strong></td>
<td style="text-align: left">1=主动买入, 0=主动卖出</td>
</tr>
<tr>
<td style="text-align: left"><strong>price</strong></td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left"><strong>volume</strong></td>
<td style="text-align: left">成交量</td>
</tr>
<tr>
<td style="text-align: left"><strong>amount</strong></td>
<td style="text-align: left">成交额</td>
</tr>
<tr>
<td style="text-align: left"><strong>flag</strong></td>
<td style="text-align: left">0=普通成交</td>
</tr>
</tbody></table>
<h2 id='bar'>获取Bar数据</h2>
<p>API描述：获取某个交易对的最近Bar数据。</p>

<p>API路径：GET /v2/market/bars/:symbol_name/:type</p>

<p>API示例：GET <a href="http://13.112.107.117/v2/market/bars/BTC_USDT/MIN">/v2/market/bars/BTC_USDT/MIN</a></p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td style="text-align: left"><strong>string</strong></td>
<td><strong>必填</strong><br>交易对名称,例如<code>BTC_USDT</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>type</strong></td>
<td style="text-align: left"><strong>enum</strong></td>
<td><strong>必填</strong><br>Bar类型，目前支持<code>MIN</code>、<code>MIN5</code>、<code>MIN15</code>、<code>MIN30</code>、<code>HOUR</code>、<code>HOUR4</code>、<code>DAY</code>、<code>WEEK</code>、<code>MONTH</code>几种类型</td>
</tr>
</tbody></table>

<p>API请求参数(Request Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>start</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>选填</strong><br/>起始时间戳，单位ms</td>
</tr>
<tr>
<td style="text-align: left"><strong>end</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>选填</strong><br/>结束时间戳，单位ms</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>选填</strong><br/>获取BAR的数量，默认200，最大200</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">1692777480000</span><span class="p">,</span><span class="w">
        </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
        </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
        </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
        </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">1692777540000</span><span class="p">,</span><span class="w">
        </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
        </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
        </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
        </span><span class="mf">29421.71</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<p>bar数据格式：</p>

<p><code>[timestamp, open, high, low, close, volume, amount]</code></p>

<p><code>[时间戳，开盘价，最高价，最低价，收盘价，成交量, 成交额]</code></p>

<p>结果总是按时间戳升序排序</p>
<h1 id='dfe799947f'>交易</h1>
<p>交易API可用于现货与合约交易，包括下单、撤单、查看当前活动订单以及查询历史订单。</p>

<p>交易API必须附带用户的API签名，以便验证用户身份。</p>
<h2 id='eec7afdfe8'>查询账户余额</h2>
<p>API描述：查询用户现货账户余额。</p>

<p>API路径：GET /v2/contracts/accounts</p>

<p>API请求参数：
- 无</p>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">9697</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">现货可用</span><span class="w">
        </span><span class="mi">0</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">现货冻结</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1E+4</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mf">9.7E+3</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mf">111904.291800928840035951</span><span class="p">,</span><span class="w">
        </span><span class="mf">638.6656303311284</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ARM"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mf">9.6E+3</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='4d72cb1d3b'>查询用户费率</h2>
<p>API描述：查询用户合约交易费率(期货、合约)。</p>

<p>API路径：GET /v1/[contracts,spots]/fee/rate</p>

<p>API请求参数(Query Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>交易对名称,例如<code>XBTCUSD_PERP</code></td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000200000000000000</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">taker费率</span><span class="w">
    </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000100000000000000</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">maker费率</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1595297714823</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">时间戳</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='8be954be0d'>创建新订单</h2>
<p>API描述：创建一个新的订单。</p>

<p>API路径：POST /v2/contracts/orders</p>

<p>API请求参数：JSON Object</p>

<table><thead>
<tr>
<th>字段名称</th>
<th>字段类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Y</td>
<td></td>
<td>合约代码，例如&quot;XBTCUSD_PERP&quot;</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>Y</td>
<td></td>
<td>订单类型，限价单LIMIT与市价单MARKET</td>
</tr>
<tr>
<td>direction</td>
<td>enum</td>
<td>Y</td>
<td></td>
<td>订单方向，LONG与SHORT</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td></td>
<td>&quot;&quot;</td>
<td>订单来源标识，例如&quot;WEB&quot;, &quot;APP&quot;，字母和数字组合，不超过20个字符</td>
</tr>
<tr>
<td>price</td>
<td>decimal</td>
<td>仅限价单</td>
<td></td>
<td>限价单报价</td>
</tr>
<tr>
<td>quantity</td>
<td>long</td>
<td>Y</td>
<td></td>
<td>订单数量，至少为1</td>
</tr>
<tr>
<td>triggerOn</td>
<td>decimal</td>
<td></td>
<td></td>
<td>订单触发价格，如果不填，则立刻执行</td>
</tr>
<tr>
<td>triggerDirection</td>
<td>enum</td>
<td></td>
<td></td>
<td>价格触发方向，LONG与SHORT</td>
</tr>
<tr>
<td>trailingDistance</td>
<td>decimal</td>
<td></td>
<td></td>
<td>TrailingStop订单触发距离，如果不填，则不是TrailingStop</td>
</tr>
<tr>
<td>fillOrKill</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>是否设置FOK订单</td>
</tr>
<tr>
<td>immediateOrCancel</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>是否设置IOC订单</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>是否设置PostOnly订单</td>
</tr>
<tr>
<td>hidden</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>是否设置Hidden订单</td>
</tr>
<tr>
<td>reduceOnly</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>是否设置ReduceOnly订单</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>string</td>
<td>N</td>
<td></td>
<td>用户自定义订单ID，可用于查询、撤销订单，24小时内可用</td>
</tr>
</tbody></table>

<p>请注意：</p>

<p>订单类型如果为LIMIT，则必须填写price；</p>

<p>triggerOn与trailingDistance不能同时填写；</p>

<p>若fillOrKill=true，则无法设置immediateOrCancel、postOnly、hidden和reduceOnly；</p>

<p>若immediateOrCancel=true，则无法设置fillOrKill、postOnly、hidden和reduceOnly；</p>

<p>若postOnly=true，则无法设置fillOrKill、immediateOrCancel和reduceOnly；</p>

<p>若hidden=true，则无法设置fillOrKill和immediateOrCancel；</p>

<p>只有MARKET订单与IOC订单可以设置reduceOnly=true。</p>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">3854532008</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="s2">"clientOrderId"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="mf">-0.0002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0007</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1597112074952</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597112074952</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginCurrencyId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailing"</span><span class="p">:</span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API错误响应：</p>

<ul>
<li><code>PARAMETER_INVALID</code>：参数错误。</li>
<li><code>ORDER_EXCEEDED</code>：当前活动订单数量超出限制，无法创建新的订单。</li>
<li><code>ORDER_INVALID</code>：无法创建Market订单或Stop订单，因为当前没有市场价。</li>
<li><code>PRICE_EXCEEDED</code>：无法创建订单，因为报价超出允许范围。</li>
<li><code>ACCOUNT_NO_ENOUGH_AVAILABLE</code>：无法创建订单，因为没有足够的可用保证金。</li>
</ul>
<h2 id='14f3f3c64c'>查询活动订单</h2>
<p>API描述：查询当前用户的所有活跃订单。</p>

<p>API路径：GET /v2/contracts/orders/open</p>

<p>API请求参数：无</p>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"893f9e20df579fb248ed349406c82c2d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"features"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">11898</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="mf">0.000003361916629248</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="mf">11897.975</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">102</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span><span class="w">
            </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"PARTIAL_FILLED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1597112143138</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597112149959</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailing"</span><span class="p">:</span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"25f2fd62fdf2a6bf33e9431ba184dd2e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"features"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">11903</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="mf">0.000001722254893724</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="mi">11903</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">86</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="mi">45</span><span class="p">,</span><span class="w">
            </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"PARTIAL_FILLED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1597112147859</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597112152051</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailing"</span><span class="p">:</span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="err">...</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='id'>查询活动订单（通过订单ID）</h2>
<p>API描述：通过订单ID查询当前用户活跃订单。</p>

<p>API路径：GET /v2/contracts/orders/open/:order_id</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>订单Id,例如&quot;25f2fd62fdf2a6bf33e9431ba184dd2e&quot;</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"25f2fd62fdf2a6bf33e9431ba184dd2e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"features"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">11898</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="mf">0.000003361916629248</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="mf">11897.975</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">102</span><span class="p">,</span><span class="w">
  </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span><span class="w">
  </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
  </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"PARTIAL_FILLED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1597112143138</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597112149959</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailing"</span><span class="p">:</span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='id-2'>查询活动订单（通过自定义订单ID）</h2>
<p>API描述：通过订单ID查询当前用户活跃订单。</p>

<p>API路径：GET /v2/contracts/orders/open/client/:client_order_id</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>client_order_id</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>自定义订单Id,例如&quot;clientOrderId&quot;</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"25f2fd62fdf2a6bf33e9431ba184dd2e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientOrderId"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"features"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">11898</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="mf">0.000003361916629248</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="mf">11897.975</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">102</span><span class="p">,</span><span class="w">
  </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span><span class="w">
  </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
  </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"PARTIAL_FILLED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1597112143138</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597112149959</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailing"</span><span class="p">:</span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='id-3'>查询订单（通过订单ID）</h2>
<p>API描述：通过订单ID查询当前用户订单。</p>

<p>API路径：GET /v2/contracts/orders/:order_id</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>自定义订单Id,例如&quot;25f2fd62fdf2a6bf33e9431ba184dd2e&quot;</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"25f2fd62fdf2a6bf33e9431ba184dd2e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"features"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">11898</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="mf">0.000003361916629248</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="mf">11897.975</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">102</span><span class="p">,</span><span class="w">
  </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span><span class="w">
  </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
  </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"PARTIAL_FILLED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1597112143138</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597112149959</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailing"</span><span class="p">:</span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='id-4'>查询订单（通过自定义订单ID）</h2>
<p>API描述：通过订单ID查询当前用户订单。</p>

<p>API路径：GET /v2/contracts/orders/client/:client_order_id</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>client_order_id</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>自定义订单Id,例如&quot;clientOrderId&quot;</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"25f2fd62fdf2a6bf33e9431ba184dd2e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientOrderId"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"features"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">11898</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="mf">0.000003361916629248</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="mf">11897.975</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">102</span><span class="p">,</span><span class="w">
  </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span><span class="w">
  </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
  </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"PARTIAL_FILLED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1597112143138</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597112149959</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailing"</span><span class="p">:</span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='515c1e61e5'>查询历史订单</h2>
<p>API描述：查询当前用户的历史订单记录。</p>

<p>API路径：GET /v2/contracts/orders/closed</p>

<p>API请求参数(Request Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>交易对名称，例如<code>XBTCUSD_PERP</code>，默认空</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>返回结果集的最大记录数量，范围1～100，默认为100</td>
</tr>
<tr>
<td style="text-align: left"><strong>range</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>查询月份，格式为YYYYMM，例如&quot;201907&quot;，默认为&quot;&quot;，表示当前月份</td>
</tr>
<tr>
<td style="text-align: left"><strong>offsetId</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>传入当前页的起始id，默认为0，表示第一页</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">订单集所在范围:</span><span class="w">
    </span><span class="nl">"range"</span><span class="p">:</span><span class="s2">"202008"</span><span class="p">,</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">是否有下一页:</span><span class="w">            
    </span><span class="nl">"hasMore"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">下一页查询的起始ID:</span><span class="w">            
    </span><span class="nl">"nextOffsetId"</span><span class="p">:</span><span class="mi">3857772008</span><span class="p">,</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"25f2fd62fdf2a6bf33e9431ba184dd2e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"features"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="mf">13097.5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="mf">0.000001511461919556</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="mi">11909</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"FULLY_FILLED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1597112483928</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597112483928</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailing"</span><span class="p">:</span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"b14de0b92ea48fa41c57109059df2540"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"features"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="mf">10718.5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="mf">0.00000151171579743</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="mi">11907</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"FULLY_FILLED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1597112483895</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597112483895</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trailing"</span><span class="p">:</span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="err">...</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<p>历史订单总是按页查询，第一页的offsetId传入0或者不传；</p>

<p>如果API响应样例返回的hasMore=true，则可以根据nextOffsetId构造下一页查询的URL。</p>
<h2 id='3eedd32d80'>取消订单</h2>
<p>API描述：取消一个活动订单。</p>

<p>API路径：GET /v2/contracts/orders/:order_id/cancel</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>订单ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b14de0b92ea48fa41c57109059df2540"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_CANCELLED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1597112497928</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1597112615906</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginCurrencyId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailing"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='id-5'>取消订单（通过自定义订单ID）</h2>
<p>API描述：通过自定义订单ID取消一个活动订单。</p>

<p>API路径：GET /v2/contracts/orders/client/:client_order_id/cancel</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>client_order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>自定义订单ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b14de0b92ea48fa41c57109059df2540"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientOrderId"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_CANCELLED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1597112497928</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1597112615906</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginCurrencyId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailing"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='b63b779508'>取消所有订单</h2>
<p>API描述：取消所有活动订单。</p>

<p>API路径: POST /v2/contracts/orders/cancel</p>

<p>API请求参数(Request Json Body)：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>交易对名称,例如<code>XBTCUSD_PERP</code>，为空则撤销所有交易对活动订单</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> 
  </span><span class="nl">"cancelled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">成功取消的订单数量</span><span class="w">  
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='e13713753c'>查询订单成交详情</h2>
<p>API描述：查询当前用户的某个订单成交详情。</p>

<p>API路径：GET /v2/contracts/orders/:order_id/matches</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br>订单ID</td>
</tr>
</tbody></table>

<p>API响应样例：订单成交详细信息，按时间排序</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">是否是taker</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9801.5</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">成交价</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">成交数量</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0012845</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">手续费</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1564558783608</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">创建时间</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">是否是taker</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9801.0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">成交价</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">成交数量</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.0006175</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">手续费，负数表示反佣</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1564558790832</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">创建时间</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>-如果一个订单的成交记录超过1000条，则最多返回前1000条记录。</p>
<h2 id='9e5d696eb0'>查询当前活动仓位列表</h2>
<p>API描述：获取当前活动仓位列表。</p>

<p>API路径：GET /v2/contracts/positions</p>

<p>API请求参数：无</p>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"122019_14"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"leverage"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"riskLevel"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxQuantity"</span><span class="p">:</span><span class="mi">100000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="mf">0.000279798244065283</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedPNL"</span><span class="p">:</span><span class="mf">-0.000869129308091017</span><span class="p">,</span><span class="w">
            </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bankruptcyPrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597116449876</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">555</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="mf">11866.877971329317</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minimumMaintenanceMarginRate"</span><span class="p">:</span><span class="mf">0.005</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closed"</span><span class="p">:</span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='1f3c3e9aed'>查询仓位清算列表</h2>
<p>API描述：获取仓位清算列表。</p>

<p>API路径：GET /v2/contracts/clearings/positions</p>

<p>API请求参数(Request Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>交易对名称，例如<code>XBTCUSD_PERP</code>，默认空</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>返回结果集的最大记录数量，范围1～100，默认为100</td>
</tr>
<tr>
<td style="text-align: left"><strong>range</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>查询月份，格式为YYYYMM，例如&quot;201907&quot;，默认为&quot;&quot;，表示当前月份</td>
</tr>
<tr>
<td style="text-align: left"><strong>offsetId</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>传入当前页的起始id，默认为0，表示第一页</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="s2">"202007"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hasMore"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextOffsetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">35905</span><span class="p">,</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">35925</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b14de0b92ea48fa41c57109059df2540"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">121577</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clearingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">9178.000000000000000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000005229897581172</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantityChanged"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantityAfterClearing"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedPNLChanged"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.000005229897581172</span><span class="p">,</span><span class="w">
            </span><span class="nl">"positionMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000047069078230551</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1594711903062</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">35920</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25f2fd62fdf2a6bf33e9431ba184dd2e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">121576</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clearingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">9170.000000000000000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000007415485278080</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantityChanged"</span><span class="p">:</span><span class="w"> </span><span class="mi">-34</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantityAfterClearing"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedPNLChanged"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.000007415485278080</span><span class="p">,</span><span class="w">
            </span><span class="nl">"positionMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1594711902592</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="err">...</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='f14cee5a67'>设置仓位杠杠</h2>
<p>API描述：为指定仓位设置杠杠倍数。如果设置成功，仓位保证金会随之调整。</p>

<p>API路径：POST /v2/contracts/positions/:symbol/leverage</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br>交易对名称,例如<code>XBTCUSD_PERP</code></td>
</tr>
</tbody></table>

<p>API请求参数(Request Json Body)：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">leverage:</span><span class="w"> </span><span class="err">integer</span><span class="p">,</span><span class="w"> </span><span class="err">必填，</span><span class="mi">0</span><span class="err">～最大允许值，</span><span class="mi">0</span><span class="err">=全仓，</span><span class="mi">1</span><span class="err">～最大允许值=逐仓杠杠倍数。</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"122019_14"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597137167156</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskLevel"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxQuantity"</span><span class="p">:</span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"realizedPNL"</span><span class="p">:</span><span class="mf">-0.000026873193329901</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
    </span><span class="nl">"margin"</span><span class="p">:</span><span class="mf">0.000154997374707182</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bankruptcyPrice"</span><span class="p">:</span><span class="mf">12386.641916798311</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="mf">12324.677725118481</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="mf">11765.086830804228</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closed"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minimumMaintenanceMarginRate"</span><span class="p">:</span><span class="mf">0.005</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API错误响应：</p>

<ul>
<li><code>PARAMETER_INVALID</code>：无效的leverage参数：null，负数或高于该Symbol允许的最大杠杆倍数。</li>
<li><code>ACCOUNT_NO_ENOUGH_AVAILABLE</code>: 没有足够的可用保证金。</li>
</ul>
<h2 id='9abbc07c5f'>设置仓位保证金</h2>
<p>API描述：为指定仓位设置新的保证金额度，仅限逐仓仓位。为全仓仓位设置保证金将返回错误。</p>

<p>API路径：POST /v2/contracts/positions/:symbol/margin</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br>交易对名称,例如<code>XBTCUSD_PERP</code></td>
</tr>
</tbody></table>

<ul>
<li>API请求参数(Request Json Body)：</li>
</ul>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.05</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>margin</strong></td>
<td><strong>decimal</strong></td>
<td style="text-align: left"><strong>必填</strong><br>设置的新的仓位保证金</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"122019_14"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597137642109</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskLevel"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxQuantity"</span><span class="p">:</span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"realizedPNL"</span><span class="p">:</span><span class="mf">-0.000010729975524031</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
    </span><span class="nl">"margin"</span><span class="p">:</span><span class="mf">1.05</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bankruptcyPrice"</span><span class="p">:</span><span class="mi">999999</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="mi">999999</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="mf">11756.02490016114</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closed"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minimumMaintenanceMarginRate"</span><span class="p">:</span><span class="mf">0.005</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API错误响应：</p>

<ul>
<li><code>PARAMETER_INVALID</code>：无效的保证金额度（null、0或负数）。</li>
<li><code>POSITION_NOT_FOUND</code>：未找到活动仓位。</li>
<li><code>POSITION_CHANGE_FAILED</code>: 不能调整全仓仓位的保证金。</li>
<li><code>ACCOUNT_NO_ENOUGH_AVAILABLE</code>: 没有足够的可用保证金。</li>
</ul>
<h2 id='21dd07728a'>设置仓位风险等级</h2>
<p>API描述：为指定仓位设置风险等级。如果设置成功，继续增加仓位时最小维持保证金率可能会增加。</p>

<p>API路径：POST /v2/contracts/positions/:symbol/riskLevel</p>

<p>API请求参数：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br>交易对名称,例如<code>XBTCUSD_PERP</code></td>
</tr>
</tbody></table>

<ul>
<li>POST参数：JSON Object：</li>
</ul>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"riskLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>riskLevel</strong></td>
<td><strong>integer</strong></td>
<td style="text-align: left"><strong>必填</strong><br>0～最大允许值</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"122019_14"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="mi">1597137704240</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskLevel"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxQuantity"</span><span class="p">:</span><span class="mi">150000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"realizedPNL"</span><span class="p">:</span><span class="mf">-0.000001531654186521</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="mf">0.0005</span><span class="p">,</span><span class="w">
    </span><span class="nl">"margin"</span><span class="p">:</span><span class="mf">0.000151633764465623</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bankruptcyPrice"</span><span class="p">:</span><span class="mf">12357.836927932667</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="mf">12296.016833245661</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="mi">11752</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTCUSD_PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closed"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minimumMaintenanceMarginRate"</span><span class="p">:</span><span class="mf">0.005</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API错误响应：</p>

<ul>
<li><code>PARAMETER_INVALID</code>：无效的riskLevel参数：null，负数或高于该Symbol允许的最大风险等级。</li>
<li><code>ACCOUNT_NO_ENOUGH_AVAILABLE</code>: 没有足够的可用保证金。</li>
</ul>
<h2 id='4b3692eb51'>合约账户划转到资产中心</h2>
<p>API描述：从合约账户划转资产到资产中心</p>

<p>API路径：POST /v2/contracts/transfer/out/request</p>

<p>API请求参数：JSON Object</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>currency</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>currency名称，如“BTC”</td>
</tr>
<tr>
<td style="text-align: left"><strong>amount</strong></td>
<td><strong>decimal</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>划转数量</td>
</tr>
<tr>
<td style="text-align: left"><strong>transferFrom</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>&quot;CONTRACTS&quot;</td>
</tr>
<tr>
<td style="text-align: left"><strong>transferTo</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>&quot;WALLET&quot;</td>
</tr>
</tbody></table>

<p>返回：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"transferFrom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONTRACTS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transferTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WALLET"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transferId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CT0001b881ea800042"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currencyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='websocket-api'>WebSocket API</h1>
<p>WebSocket API是指连接到WebSocket后推送的数据。</p>
<h2 id='b98a1892b6'>连接信息</h2>
<p>WebSocket只支持wss协议，地址是ws://dev.server.opx.pro:8081/v2/market/notification</p>
<h2 id='4ade1cf0af'>用户认证</h2>
<p>要以认证用户连接wss，必须提供一个有效的wss token。获取wss token的方式是：</p>

<p>以API方式请求wss token，可以访问如下API地址（需要API签名）：</p>

<p>用户API请求：GET http://dev.server.opx.pro/v2/users/notification/token</p>

<p>如果用户未登录，返回400错误，如果用户已登录，返回包含Token的JSON如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGo2QXRoMDAwMDAwMDAwMDExOGEyMjVhNGE4MDllNDI0Njg0YzE0ZjFhY2NjN2M1MGJhMDM3ZmU4ZjNiMTM3NzExMmFjNmFmNTgxZmY2ZWJlNTU0ZjkyYmM2ZTQ="</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>此Token默认有效期1分钟。</p>

<ol>
<li>立刻连接WSS：</li>
</ol>

<p>将获取的token作为参数附加到wss连接：</p>
<div class="highlight"><pre class="highlight plaintext"><code>ws://dev.server.opx.pro:8081/v2/market/notification?token=SGo2QXRoMDAwMDAwMDAwMDExOGEyMjVhNGE4MDllNDI0Njg0YzE0ZjFhY2NjN2M1MGJhMDM3ZmU4ZjNiMTM3NzExMmFjNmFmNTgxZmY2ZWJlNTU0ZjkyYmM2ZTQ
</code></pre></div>
<p>WSS连接成功后，服务器会立刻推送一条status信息。如果WSS服务器验证用户成功，推送消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"CONNECTED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"connected as signed user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">12345</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>如果WSS服务器验证用户失败，推送的消息不含userId：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONNECTED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"connected as anonymous user"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ol>
<li>认证成功的WSS连接会推送用户的订单成交、取消信息等用户相关信息。</li>
</ol>
<h2 id='5319af762d'>订阅</h2>
<p>连接WSS后，需要订阅指定topic，发送消息如下：</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">subscribe</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">topic</span><span class="p">:</span> <span class="dl">"</span><span class="s2">tick.BTC_USDT</span><span class="dl">"</span>
<span class="p">});</span>
</code></pre></div>
<p>返回格式：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"TOPICS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w"> </span><span class="s2">"tick.btc_usdt"</span><span class="p">]</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">所有已经订阅的topic</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>目前支持的topic</p>

<ol>
<li>ORDERBOOK.{symbol_name}</li>
<li>TICK.{symbol_name}</li>
<li>TICKER.{symbol_name}</li>
<li>ALL-TICKER</li>
<li>BAR.{MIN,MIN5,MIN15,MIN30,HOUR,HOUR4,DAY,WEEK,MONTH}.{symbol_name}</li>
<li>BBO.{symbol_name}</li>
<li>SPOTS.ORDER_STATUS_CHANGED</li>
<li>SPOTS.ORDER_MATCHED</li>
<li>SPOTS.ACCOUNT_CHANGED</li>
</ol>

<p>目前服务端返回消息的type list</p>

<ol>
<li>CONNECTED</li>
<li>ORDERBOOK</li>
<li>TICK</li>
<li>TICKER</li>
<li>ALL-TICKER</li>
<li>BAR</li>
<li>BBO</li>
<li>SPOTS.ORDER_STATUS_CHANGED</li>
<li>SPOTS.ORDER_MATCHED</li>
<li>SPOTS.ACCOUNT_CHANGED</li>
</ol>
<h2 id='b109d834a1'>取消订阅</h2>
<p>已经订阅的topic可以通过<code>unsubscribe</code>的action取消，发送消息如下：</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">unsubscribe</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">topic</span><span class="p">:</span> <span class="dl">"</span><span class="s2">tick.BTC_USDT</span><span class="dl">"</span>
<span class="p">});</span>
</code></pre></div>
<p>支持的topic与订阅相同</p>
<h2 id='f4a84d8f74'>接收消息</h2>
<p>服务器向客户端推送的消息均为JSON文本，格式如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message-type"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">消息类型</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">序列ID</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">可选，仅限已订阅的symbol</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">34567</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">可选，仅限针对单用户的消息，例如order_filled</span><span class="w">
    </span><span class="nl">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MIN"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">可选，仅限针对bar类型的消息，表示bar的类型</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">消息其他字段</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>JavaScript代码如下：</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">orderbook</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">processOrderBook</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">bar</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">processBar</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">...</span>
<span class="p">};</span>
</code></pre></div><h2 id='94a9a32795'>心跳</h2>
<p>客户端需要每<code>15秒</code>发送ping消息来维持连接心跳，格式如下</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"ping"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1595844075067</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">client端时间戳</span><span class="p">,</span><span class="w"> </span><span class="err">单位ms</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>服务器响应：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"PONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1595844075403</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">服务器端时间戳</span><span class="w">
    </span><span class="nl">"gap"</span><span class="p">:</span><span class="mi">336</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">服务器时间与client时间的差值，可以用来判断连接网络状态</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='ticker'>TICKER消息</h2>
<p>服务器以固定频率推送市场价格摘要消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKER"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1693574940000</span><span class="p">,</span><span class="w">
    </span><span class="mf">27152.7</span><span class="p">,</span><span class="w">
    </span><span class="mf">27205.2</span><span class="p">,</span><span class="w">
    </span><span class="mf">25739.24</span><span class="p">,</span><span class="w">
    </span><span class="mf">26031.52</span><span class="p">,</span><span class="w">
    </span><span class="mf">133609.57</span><span class="p">,</span><span class="w">
    </span><span class="mf">3504106410.368</span><span class="p">,</span><span class="w">
    </span><span class="mf">-0.041291657919839</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">794752</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1693574966918</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：TICKER</li>
<li>只有24小时内有交易的symbol会出现，没有交易的symbol不会出现</li>
<li>数据格式：与Bar数据类型相同，可看作最近24小时的一条K线图（但不同于日K，因为日K的起始时间是0:00）</li>
</ul>
<h2 id='all_ticker'>ALL_TICKER消息</h2>
<p>服务器以固定频率推送全交易对市场价格摘要。首次订阅将返回所有交易对的价格摘要，后续会只推送有数据更新的交易对价格摘要。</p>

<p>订阅：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="s2">"ALL-TICKER"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>消息格式：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL-TICKER"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1693575018105</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKER"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1693575000000</span><span class="p">,</span><span class="w">
        </span><span class="mf">27163.76</span><span class="p">,</span><span class="w">
        </span><span class="mf">27205.2</span><span class="p">,</span><span class="w">
        </span><span class="mf">25739.24</span><span class="p">,</span><span class="w">
        </span><span class="mf">26032.64</span><span class="p">,</span><span class="w">
        </span><span class="mf">133643.71</span><span class="p">,</span><span class="w">
        </span><span class="mf">3504875464.9052</span><span class="p">,</span><span class="w">
        </span><span class="mf">-0.041640774325793</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">794931</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1693575016899</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKER"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1693575000000</span><span class="p">,</span><span class="w">
        </span><span class="mf">1705.54</span><span class="p">,</span><span class="w">
        </span><span class="mf">1708.4</span><span class="p">,</span><span class="w">
        </span><span class="mf">1632.28</span><span class="p">,</span><span class="w">
        </span><span class="mf">1644.84</span><span class="p">,</span><span class="w">
        </span><span class="mf">66586.38</span><span class="p">,</span><span class="w">
        </span><span class="mf">110361200.734</span><span class="p">,</span><span class="w">
        </span><span class="mf">-0.035589901145678</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">794932</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1693575016912</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='websocket-bar'>Websocket Bar信息</h2>
<p>服务器会根据实际成交以最低0.5s的速度推送bar（candle）信息：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MIN15"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">795097</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1693575000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">26032.34</span><span class="p">,</span><span class="w">
    </span><span class="mf">26051.16</span><span class="p">,</span><span class="w">
    </span><span class="mf">26030.78</span><span class="p">,</span><span class="w">
    </span><span class="mf">26050.7</span><span class="p">,</span><span class="w">
    </span><span class="mf">234.92</span><span class="p">,</span><span class="w">
    </span><span class="mf">6116784.4598</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：bar</li>
<li>数据格式：[1594973040000,9100.8,9109.4,9099.7,9109.4,0.2004] --- [timestamp, open, high, low, close, amount,volume]</li>
</ul>
<h2 id='websocket-bbo'>Websocket BBO消息</h2>
<p>服务器以固定频率推送BBO消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BBO"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">793396</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1693574535172</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bidPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">26039.02</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bidVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.24</span><span class="p">,</span><span class="w">
    </span><span class="nl">"askPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">26039.06</span><span class="p">,</span><span class="w">
    </span><span class="nl">"askVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.42</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='websocket-orderbook'>Websocket OrderBook消息</h2>
<p>服务器以固定频率增量推送OrderBook消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orderbook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1693629379104"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastSequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">963061</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">963066</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"sellOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mf">25770.8</span><span class="p">,</span><span class="w">
        </span><span class="mf">1.95</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">25768.16</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mf">25765.52</span><span class="p">,</span><span class="w">
        </span><span class="mf">8.39</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100105</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">963066</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：orderbook</li>
<li>是否需要订阅：需要</li>
<li>深度数据格式：<code>[price, amount]</code></li>
<li>需要自己维护订单薄，按照sequenceId递增更新订单薄</li>
<li>维护订单薄规则:推送按照价格匹配，如果存在当前价格 ，那么amount更新为最新值（直接替换），如果amount = 0 将该价格移除订单薄，如果当前价格不存在，按照价格排序插入到订单薄</li>
</ul>
<h2 id='websocket-tick'>Websocket Tick消息</h2>
<p>服务器不定期推送最新成交的Tick消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICK"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">794534</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="mi">1693574906883</span><span class="p">,</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mf">26033.940000</span><span class="p">,</span><span class="w">
      </span><span class="mf">2.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">52067.880000</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="mi">1693574906883</span><span class="p">,</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mf">26033.960000</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.950000</span><span class="p">,</span><span class="w">
      </span><span class="mf">24732.262000</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="mi">1693574906883</span><span class="p">,</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mf">26034.100000</span><span class="p">,</span><span class="w">
      </span><span class="mf">2.360000</span><span class="p">,</span><span class="w">
      </span><span class="mf">61440.476000</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="mi">1693574906883</span><span class="p">,</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mf">26034.180000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1.540000</span><span class="p">,</span><span class="w">
      </span><span class="mf">40092.637200</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：tick</li>
<li>是否需要订阅：需要</li>
<li>一个tick消息包含一个或多个成交信息</li>
<li>tick数据格式：<code>[timestamp, dir, price, amount, flag]</code>

<ul>
<li>timestamp: 时间戳</li>
<li>dir: 1=主动买入, 0=主动卖出</li>
<li>price: 成交价格</li>
<li>amount: 成交数量</li>
<li>volume: 成交额</li>
<li>flag: 0=普通成交（后续增加爆仓标志）</li>
</ul></li>
</ul>
<h2 id='f4310d52cf'>订单成交消息</h2>
<p>当用户订单成交后，获得订单成交消息：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOTS.ORDER_MATCHED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">795536</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">176530000970114</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAKER"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">26029.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0032</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchedQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1693575216940</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：<code>SPOTS.ORDER_MATCHED</code></li>
<li>是否需要认证：需要</li>
</ul>
<h2 id='cee43df56e'>订单状态变更消息</h2>
<p>当用户订单状态发生变动后，获得订单状态变化消息：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOTS.ORDER_STATUS_CHANGED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">795290</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOn"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.54</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingDistance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">118.1781068</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingBasePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">26030.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1693575145085</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailing"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">26030.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"failReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">176529405378626</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_FILLED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123458"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">clientOrderId</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1693575146891</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：<code>SPOTS.ORDER_STATUS_CHANGED</code></li>
<li>是否需要认证：需要</li>
</ul>
<h2 id='fd75112fba'>现货账户余额变更消息</h2>
<p>当用户某个currency余额发生变动后，推送最新的currency余额：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOTS.ACCOUNT_CHANGED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2837623</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.994861380499118E10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">5039418.923</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10010001017</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">105</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currencyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.994861380499118E10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"spotsFrozen"</span><span class="p">:</span><span class="w"> </span><span class="mf">5039418.923</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1694228357108</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1694228357108</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：<code>SPOTS.ACCOUNT_CHANGED</code></li>
<li>是否需要认证：需要</li>
<li>按照currencyId 更新余额</li>
</ul>
<h1 id='20ff2c8e16'>资产中心</h1>
<p>资产中心API可用于获取资产中心账户余额、与币币账户。</p>
<h2 id='4d03e44027'>获取资产中心账户余额</h2>
<p>API描述：查询用户资产中心账户余额。</p>

<p>API路径：GET /v2/assets/user/accounts</p>

<p>API请求参数：无</p>

<p>返回：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">99800004</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">99800000</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">99800000</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='a103e79385'>资产中心划转到币币账户</h2>
<p>API描述：从资产中心划转资产到币币账户</p>

<p>API路径：POST /v2/assets/spots/transfer/out</p>

<p>API请求参数：JSON Object</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>sourceId</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br>请求ID，唯一标识</td>
</tr>
<tr>
<td style="text-align: left"><strong>currency</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>currency名称，如“BTC”</td>
</tr>
<tr>
<td style="text-align: left"><strong>amount</strong></td>
<td><strong>decimal</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>划转数量</td>
</tr>
</tbody></table>

<p>返回：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10008</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38dea7c5108f498a8c4036214d02cf71"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"targetAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transferType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INTERNAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transferFrom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASSETS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transferTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOTS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userTargetId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">200000.000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DONE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirm"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"465e5fcefa6b38d462d59390fd6d2c6c0fa89fd1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1690379350114</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1690379350215</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
